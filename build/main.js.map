{"version":3,"file":"main.js","sourceRoot":"","sources":["../src/main.ts"],"names":[],"mappings":"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","sourcesContent":["import { Adapter, type AdapterOptions } from '@iobroker/adapter-core';\nimport axios, { type AxiosError, type AxiosInstance } from 'axios';\nimport https from 'node:https';\nimport type {\n    ReoLinkCamAdapterConfig,\n    ReolinkCommand,\n    ReolinkCommandAudioAlarmPlay,\n    ReolinkCommandGetRec,\n    ReolinkCommandGetWhiteLed,\n    ReolinkCommandName,\n    ReolinkCommandPtzCheck,\n    ReolinkCommandPtzControl,\n    ReolinkCommandSetAiCfg,\n    ReolinkCommandSetAutoFocus,\n    ReolinkCommandSetEmailV20,\n    ReolinkCommandSetFtp,\n    ReolinkCommandSetIrLights,\n    ReolinkCommandSetPtzGuard,\n    ReolinkCommandSetPush,\n    ReolinkCommandSetRec,\n    ReolinkCommandSetWhiteLed,\n    ReolinkCommandStartZoomFocus,\n    ReolinkResponseError,\n} from './types';\n\n// typescript\nexport const ReolinkErrorMessages: Record<number, string> = {\n    [-1]: 'Missing parameters',\n    [-2]: 'Used up memory',\n    [-3]: 'Check error',\n    [-4]: 'Parameters error',\n    [-5]: 'Reached the max session number.',\n    [-6]: 'Login required',\n    [-7]: 'Login error',\n    [-8]: 'Operation timeout',\n    [-9]: 'Not supported',\n    [-10]: 'Protocol error',\n    [-11]: 'Failed to read operation',\n    [-12]: 'Failed to get configuration.',\n    [-13]: 'Failed to set configuration.',\n    [-14]: 'Failed to apply for memory',\n    [-15]: 'Failed to created socket',\n    [-16]: 'Failed to send data',\n    [-17]: 'Failed to receiver data',\n    [-18]: 'Failed to open file',\n    [-19]: 'Failed to read file',\n    [-20]: 'Failed to write file',\n    [-21]: 'Token error',\n    [-22]: 'The length of the string exceeds the limit.',\n    [-23]: 'Missing parameters',\n    [-24]: 'Command error',\n    [-25]: 'Internal error',\n    [-26]: 'Ability error',\n    [-27]: 'Invalid user',\n    [-28]: 'User already exist',\n    [-29]: 'Reached the maximum number of users',\n    [-30]: 'The version is identical to the current one.',\n    [-31]: 'Ensure only one user can upgrade',\n    [-32]: 'Modify IP conflicted with used IP',\n    [-34]: 'Cloud login need bind email first',\n    [-35]: 'Cloud login unbind camera',\n    [-36]: 'Cloud login get login information out of time',\n    [-37]: 'Cloud login password error',\n    [-38]: 'Cloud bind camera uid error',\n    [-39]: 'Cloud login user doesn’t exist',\n    [-40]: 'Cloud unbind camera failed',\n    [-41]: 'The device doesn’t support cloud',\n    [-42]: 'Cloud login server failed',\n    [-43]: 'Cloud bind camera failed',\n    [-44]: 'Cloud unknown error',\n    [-45]: 'Cloud bind camera need verify code',\n    [-46]: 'An error occurred while using the digest authentication process',\n    [-47]: 'An expired nonce is used in the authentication process',\n    [-48]: 'Snap a picture failed',\n    [-49]: 'Channel is invalid',\n    [-99]: 'Device offline',\n    [-100]: 'Test Email、Ftp、WiFi failed',\n    [-101]: 'Upgrade checking firmware failed',\n    [-102]: 'Upgrade download online failed',\n    [-103]: 'Upgrade get upgrade status failed',\n    [-105]: 'Frequent logins, please try again later!',\n    [-220]: 'Error downloading video file',\n    [-221]: 'Busy video recording task',\n    [-222]: 'The video file does not exist',\n    [-301]: 'Digest Authentication nonce error',\n    [-310]: 'Aes decryption failure',\n    [-451]: 'ftp test login failed',\n    [-452]: 'Create ftp dir failed',\n    [-453]: 'Upload ftp file failed',\n    [-454]: 'Cannot connect ftp server',\n    [-480]: 'Some undefined errors',\n    [-481]: 'Cannot connect email server',\n    [-482]: 'Auth user failed',\n    [-483]: 'Email network err',\n    [-484]: 'Something wrong with email server',\n    [-485]: 'Something wrong with memory',\n    [-500]: 'The number of IP addresses reaches the upper limit',\n    [-501]: 'The user does not exist',\n    [-502]: 'Password err',\n    [-503]: 'Login deny',\n    [-505]: 'Login not init',\n    [-506]: 'Login locked',\n    [-507]: 'The number of logins reached the upper limit',\n};\n\nexport function getReolinkErrorMessage(code: number): string {\n    return ReolinkErrorMessages[code] ?? `Unknown error ${code}`;\n}\n\nclass ReoLinkCamAdapter extends Adapter {\n    declare config: ReoLinkCamAdapterConfig;\n    private sslValidation = false;\n    private readonly refreshIntervalRecording = 10;\n    private refreshIntervalRecordingTimer = 0;\n    private apiConnected = false;\n    private reolinkApiClient: AxiosInstance | null = null;\n    private refreshStateTimeout: ioBroker.Timeout | undefined = undefined;\n\n    constructor(options?: Partial<AdapterOptions>) {\n        super({\n            ...options,\n            name: 'reolink',\n        });\n\n        this.on('ready', this.onReady.bind(this));\n        this.on('stateChange', this.onStateChange.bind(this));\n        this.on('message', this.onMessage.bind(this));\n        this.on('unload', this.onUnload.bind(this));\n    }\n\n    /**\n     * @param command send to reolink\n     * @param genRndSeed needed for snap\n     * @param withChannel for multi devices\n     */\n    genUrl(command: ReolinkCommandName, genRndSeed?: boolean, withChannel?: boolean): string {\n        let urlString = `/api.cgi?cmd=${command}&`;\n        let password = encodeURIComponent(this.config.cameraPassword);\n        if (this.config.UriEncodedPassword !== undefined) {\n            if (!this.config.UriEncodedPassword) {\n                password = this.config.cameraPassword;\n            }\n        }\n        if (withChannel === true) {\n            urlString += `channel=${this.config.cameraChannel}&`;\n        }\n        if (genRndSeed === true) {\n            const randomSeed = Math.round(Math.random() * 100000000000000).toString(16);\n            urlString += `rs=${randomSeed}&`;\n        }\n        urlString += `user=${this.config.cameraUser}&password=${password}`;\n        return urlString;\n    }\n\n    async onReady(): Promise<void> {\n        await this.setStateAsync('info.connection', false, true);\n        this.log.info('Reolink adapter has started');\n        if (!this.config.cameraIp) {\n            this.log.error('Camera Ip not set - please check instance!');\n            return;\n        }\n        if (!this.config.cameraUser || !this.config.cameraPassword) {\n            this.log.error('Username and/or password not set properly - please check instance!');\n            return;\n        }\n        if (!this.config.cameraProtocol) {\n            this.log.error('no protocol (http/https) set!');\n            return;\n        }\n        // check Checkbox of ssl validation is set\n        this.sslValidation = this.config.sslvalid ?? false;\n\n        this.reolinkApiClient = axios.create({\n            baseURL:\n                this.config.cameraIp.startsWith('http://') || this.config.cameraIp.startsWith('https://')\n                    ? this.config.cameraIp\n                    : `${this.config.cameraProtocol}://${this.config.cameraIp}`,\n            timeout: 4000,\n            responseType: 'json',\n            responseEncoding: 'binary',\n            httpsAgent: new https.Agent({\n                rejectUnauthorized: this.sslValidation,\n            }),\n        });\n\n        this.log.info(`Current IP: ${this.config.cameraIp}`);\n        await this.setStateAsync('network.ip', { val: this.config.cameraIp, ack: true });\n        await this.setStateAsync('network.channel', {\n            val: Number(this.config.cameraChannel),\n            ack: true,\n        });\n\n        // first API Call...if something isn't working, stop Adapter\n        try {\n            await this.getDevInfo();\n        } catch (error) {\n            this.log.error(`${error}: ${error.code}`);\n        }\n\n        if (!this.apiConnected) {\n            return;\n        }\n\n        await this.getLocalLink();\n        await this.refreshState('onReady');\n        await this.getDriveInfo();\n        await this.getPtzGuardInfo();\n        await this.getAutoFocus();\n        await this.getZoomAndFocus();\n        await this.getIrLights();\n        await this.getWhiteLed();\n        await this.getRecording();\n\n        this.log.debug('getStateAsync start Email notification');\n        //create state dynamically\n        const state = await this.getStateAsync('device.name');\n        if (state) {\n            await this.setStateAsync('settings.EmailNotification', state.val);\n        }\n        await this.getMailNotification();\n        this.subscribeStates('settings.EmailNotification');\n        this.log.debug('Email notification subscribed');\n        this.log.debug('start subscriptions');\n        // Subscribe on states\n        this.subscribeStates('settings.ir');\n        this.subscribeStates('settings.switchLed');\n        this.subscribeStates('settings.ledBrightness');\n        this.subscribeStates('settings.ledMode');\n        this.subscribeStates('settings.ptzPreset');\n        this.subscribeStates('settings.ptzPatrol');\n        this.subscribeStates('settings.autoFocus');\n        this.subscribeStates('settings.setZoomFocus');\n        this.subscribeStates('settings.push');\n        this.subscribeStates('settings.ftp');\n        this.subscribeStates('settings.scheduledRecording');\n        this.subscribeStates('settings.playAlarm');\n        this.subscribeStates('settings.getDiscData');\n        this.subscribeStates('settings.ptzEnableGuard');\n        this.subscribeStates('settings.ptzCheck');\n        this.subscribeStates('settings.ptzGuardTimeout');\n        this.subscribeStates('command.reboot');\n        this.subscribeStates('ai_config.*');\n    }\n\n    // function for getting motion detection\n    async getMdState(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, channel, user, password\n                const MdInfoValues = await this.reolinkApiClient.get(this.genUrl('GetMdState', false, true));\n\n                this.log.debug(\n                    `camMdStateInfo ${JSON.stringify(MdInfoValues.status)}: ${JSON.stringify(MdInfoValues.data)}`,\n                );\n\n                if (MdInfoValues.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n\n                    const MdValues = MdInfoValues.data[0];\n\n                    this.log.debug(`Motion Detection value: ${MdValues.value.state}`);\n                    await this.setStateAsync('sensor.motion', {\n                        val: !!MdValues.value.state,\n                        ack: true,\n                    });\n                }\n            } catch (error) {\n                const errorMessage = error.message.toString();\n                if (errorMessage.includes('timeout of')) {\n                    this.log.debug(`get md state: ${error}`);\n                } else {\n                    this.log.error(`get md state: ${error}`);\n                }\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n            }\n        }\n    }\n\n    async getAiState(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, channel, user, password\n                const AiInfoValues = await this.reolinkApiClient.get(this.genUrl('GetAiState', false, true));\n\n                this.log.debug(\n                    `camAiStateInfo ${JSON.stringify(AiInfoValues.status)}: ${JSON.stringify(AiInfoValues.data)}`,\n                );\n\n                if (AiInfoValues.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n\n                    const AiValues = AiInfoValues.data[0];\n                    try {\n                        await this.setStateAsync('sensor.dog_cat.state', {\n                            val: !!AiValues.value.dog_cat.alarm_state,\n                            ack: true,\n                        });\n                        await this.setStateAsync('sensor.dog_cat.support', {\n                            val: !!AiValues.value.dog_cat.support,\n                            ack: true,\n                        });\n                        this.log.debug(`dog_cat_state detection:${AiValues.value.dog_cat.alarm_state}`);\n                    } catch (error) {\n                        this.log.debug(`get ai state animal: ${error}`);\n                        this.log.debug('dog cat state not found.');\n                    }\n                    try {\n                        await this.setStateAsync('sensor.face.state', {\n                            val: !!AiValues.value.face.alarm_state,\n                            ack: true,\n                        });\n                        await this.setStateAsync('sensor.face.support', {\n                            val: !!AiValues.value.face.support,\n                            ack: true,\n                        });\n                        this.log.debug(`face_state detection:${AiValues.value.face.alarm_state}`);\n                    } catch (error) {\n                        this.log.debug(`get ai state face: ${error}`);\n                        this.log.debug('face state not found.');\n                    }\n                    try {\n                        await this.setStateAsync('sensor.people.state', {\n                            val: !!AiValues.value.people.alarm_state,\n                            ack: true,\n                        });\n                        await this.setStateAsync('sensor.people.support', {\n                            val: !!AiValues.value.people.support,\n                            ack: true,\n                        });\n                        this.log.debug(`people_state detection:${AiValues.value.people.alarm_state}`);\n                    } catch (error) {\n                        this.log.debug(`get ai state people: ${error}`);\n                        this.log.debug('people state not found.');\n                    }\n                    try {\n                        await this.setStateAsync('sensor.vehicle.state', {\n                            val: !!AiValues.value.vehicle.alarm_state,\n                            ack: true,\n                        });\n                        await this.setStateAsync('sensor.vehicle.support', {\n                            val: !!AiValues.value.vehicle.support,\n                            ack: true,\n                        });\n                        this.log.debug(`vehicle_state detection:${AiValues.value.vehicle.alarm_state}`);\n                    } catch (error) {\n                        this.log.debug(`get ai state vehicle: ${error}`);\n                        this.log.debug('vehicle state not found.');\n                    }\n                }\n            } catch (error) {\n                const errorMessage = error.message.toString();\n                if (errorMessage.includes('timeout of')) {\n                    this.log.debug(`get ai state general: ${error}`);\n                } else {\n                    this.log.error(`get ai state general: ${error}`);\n                }\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n            }\n        }\n    }\n\n    async getAiCfg(): Promise<void> {\n        if (!this.reolinkApiClient) {\n            return;\n        }\n\n        try {\n            // cmd, channel, user, password\n            const cfg = await this.reolinkApiClient.get(this.genUrl('GetAiCfg', false, true));\n\n            this.log.debug(`GetAiCfg ${JSON.stringify(cfg.status)}: ${JSON.stringify(cfg.data)}`);\n\n            if (cfg.status !== 200) {\n                return;\n            }\n\n            this.apiConnected = true;\n            await this.setStateAsync('network.connected', {\n                val: this.apiConnected,\n                ack: true,\n            });\n\n            const val = cfg.data[0].value;\n            try {\n                await this.setStateAsync('ai_config.raw', {\n                    val: JSON.stringify(val),\n                    ack: true,\n                });\n                this.log.debug(`ai_config.raw = ${JSON.stringify(val)}`);\n            } catch (error) {\n                this.log.debug(`ai_config.raw: ${error}`);\n            }\n        } catch (error) {\n            const errorMessage = error.message.toString();\n            if (errorMessage.includes('timeout of')) {\n                this.log.debug(`get ai config general: ${error}`);\n            } else {\n                this.log.error(`get ai config general: ${error}`);\n            }\n            this.apiConnected = false;\n            await this.setStateAsync('network.connected', {\n                val: this.apiConnected,\n                ack: true,\n            });\n        }\n    }\n\n    async setAiCfg(jsonString: string): Promise<void> {\n        try {\n            const command: ReolinkCommandSetAiCfg[] = [\n                {\n                    cmd: 'SetAiCfg',\n                    param: JSON.parse(jsonString),\n                },\n            ];\n\n            await this.sendCmd(command, 'SetAiCfg');\n        } catch (error) {\n            this.log.error(`setAiCfg: ${error}`);\n        }\n\n        // Immediately after patching the settings, get the new settings.\n        await this.getAiCfg();\n    }\n\n    // function for getting general information of camera device\n    async getDevInfo(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                this.log.debug('getDevinfo');\n                // cmd, channel, user, password\n                const devInfoValues = await this.reolinkApiClient.get(this.genUrl('GetDevInfo', false, true));\n                this.log.debug(\n                    `camMdStateInfo ${JSON.stringify(devInfoValues.status)}: ${JSON.stringify(devInfoValues.data)}`,\n                );\n\n                if (devInfoValues.status === 200) {\n                    await this.setStateAsync('info.connection', true, true);\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n                    const DevValues = devInfoValues.data[0];\n\n                    await this.setStateAsync('device.buildDay', {\n                        val: DevValues.value.DevInfo.buildDay,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.cfgVer', {\n                        val: DevValues.value.DevInfo.cfgVer,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.detail', {\n                        val: DevValues.value.DevInfo.detail,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.diskNum', {\n                        val: DevValues.value.DevInfo.diskNum,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.firmVer', {\n                        val: DevValues.value.DevInfo.firmVer,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.model', {\n                        val: DevValues.value.DevInfo.model,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.name', {\n                        val: DevValues.value.DevInfo.name,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.serial', {\n                        val: DevValues.value.DevInfo.serial,\n                        ack: true,\n                    });\n                    await this.setStateAsync('device.wifi', {\n                        val: DevValues.value.DevInfo.wifi,\n                        ack: true,\n                    });\n                }\n            } catch (error) {\n                await this.setStateAsync('info.connection', false, true);\n                if (((error as AxiosError).response as any)?.error?.rspCode) {\n                    const response: ReolinkResponseError = (error as AxiosError).response?.data as ReolinkResponseError;\n                    this.log.error(`Cannot get local link: ${getReolinkErrorMessage(response.error.rspCode)}`);\n                }\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                // this.log.error(error + \": \" + error.code);\n                throw error;\n            }\n        }\n    }\n\n    async getPtzGuardInfo(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, user, password\n                const ptzGuardInfoData = await this.reolinkApiClient.get(this.genUrl('GetPtzGuard', false, false));\n                this.log.debug(\n                    `ptz guard info ${JSON.stringify(ptzGuardInfoData.status)}: ${JSON.stringify(ptzGuardInfoData.data)}`,\n                );\n            } catch (error) {\n                this.log.error(`ptz guard info: ${error}`);\n            }\n        }\n    }\n\n    async getDriveInfo(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, user, password\n                const driveInfoData = await this.reolinkApiClient.get(this.genUrl('GetHddInfo', false, false));\n                this.log.debug(\n                    `getDriveInfo ${JSON.stringify(driveInfoData.status)}: ${JSON.stringify(driveInfoData.data)}`,\n                );\n\n                if (driveInfoData.status === 200) {\n                    const driveInfoValues = driveInfoData.data[0];\n                    const numberOfDiscs = Object.keys(driveInfoValues.value.HddInfo).length;\n                    if (numberOfDiscs > 0) {\n                        if (numberOfDiscs > 1) {\n                            this.log.warn(`Only the first disc is read. You have ${numberOfDiscs.toString()} Discs!`);\n                        }\n                        await this.setStateAsync('disc.capacity', {\n                            val: driveInfoValues.value.HddInfo[0].capacity,\n                            ack: true,\n                        });\n                        let discFormatted = false;\n                        if (driveInfoValues.value.HddInfo[0].format === 1) {\n                            discFormatted = true;\n                        }\n                        await this.setStateAsync('disc.formatted', {\n                            val: discFormatted,\n                            ack: true,\n                        });\n                        await this.setStateAsync('disc.free', {\n                            val: driveInfoValues.value.HddInfo[0].size,\n                            ack: true,\n                        });\n                        let discMounted = false;\n                        if (driveInfoValues.value.HddInfo[0].mount === 1) {\n                            discMounted = true;\n                        }\n                        await this.setStateAsync('disc.mounted', {\n                            val: discMounted,\n                            ack: true,\n                        });\n                    } else {\n                        // no sd card inserted\n                        await this.setStateAsync('disc.capacity', { val: 0, ack: true });\n                        await this.setStateAsync('disc.formatted', { val: false, ack: true });\n                        await this.setStateAsync('disc.free', { val: 0, ack: true });\n                        await this.setStateAsync('disc.mounted', { val: false, ack: true });\n                    }\n                }\n            } catch (error) {\n                const errorMessage = error.message.toString();\n                if (errorMessage.includes('timeout of')) {\n                    this.log.debug(`drive info ${error}`);\n                } else {\n                    this.log.error(`drive info ${error}`);\n                }\n            }\n        }\n    }\n\n    async getLocalLink(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, channel, user, password\n                const LinkInfoValues = await this.reolinkApiClient.get(this.genUrl('GetLocalLink', false, true));\n                this.log.debug(\n                    `LinkInfoValues ${JSON.stringify(LinkInfoValues.status)}: ${JSON.stringify(LinkInfoValues.data)}`,\n                );\n\n                if (LinkInfoValues.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n                    const LinkValues = LinkInfoValues.data[0];\n\n                    await this.setStateAsync('network.activeLink', {\n                        val: LinkValues.value.LocalLink.activeLink,\n                        ack: true,\n                    });\n                    await this.setStateAsync('network.mac', {\n                        val: LinkValues.value.LocalLink.mac,\n                        ack: true,\n                    });\n                    await this.setStateAsync('network.dns', {\n                        val: LinkValues.value.LocalLink.dns.dns1,\n                        ack: true,\n                    });\n                    await this.setStateAsync('network.gateway', {\n                        val: LinkValues.value.LocalLink.static.gateway,\n                        ack: true,\n                    });\n                    await this.setStateAsync('network.mask', {\n                        val: LinkValues.value.LocalLink.static.mask,\n                        ack: true,\n                    });\n                    await this.setStateAsync('network.networkType', {\n                        val: LinkValues.value.LocalLink.type,\n                        ack: true,\n                    });\n                }\n            } catch (error) {\n                this.apiConnected = false;\n\n                if ((error as AxiosError).response) {\n                    const response: ReolinkResponseError = (error as AxiosError).response?.data as ReolinkResponseError;\n                    this.log.error(`Cannot get local link: ${getReolinkErrorMessage(response.error.rspCode)}`);\n                }\n\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n\n                this.log.error(`get local link: ${error}`);\n            }\n        }\n    }\n\n    async getSnapshot(): Promise<{ type: string; base64: string } | null> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, channel, rs, user, password\n                const snapShot = await this.reolinkApiClient.get(this.genUrl('Snap', true, true));\n                const contentType = snapShot.headers['content-type'];\n                const base64data = Buffer.from(snapShot.data, 'binary').toString('base64');\n                return { type: contentType, base64: base64data };\n            } catch (error) {\n                this.log.error(`get snapshot: ${error}`);\n                return null;\n            }\n        }\n        return null;\n    }\n\n    async sendCmd(cmdObject: ReolinkCommand[], cmdName: ReolinkCommandName): Promise<void> {\n        this.log.debug(`sendCmd: ${cmdName}`);\n        this.log.debug(`sendCmdObj: ${JSON.stringify(cmdObject)}`);\n        try {\n            if (this.reolinkApiClient) {\n                // cmd, user, password\n                const result = await this.reolinkApiClient.post(this.genUrl(cmdName, false, false), cmdObject);\n                this.log.debug(JSON.stringify(result.status));\n                this.log.debug(JSON.stringify(result.data));\n                if ('error' in result.data[0]) {\n                    this.log.error(`sendCmd ${cmdName}: ${JSON.stringify(result.data[0].error.detail)}`);\n\n                    switch (cmdName) {\n                        case 'SetAutoFocus':\n                            await this.setStateAsync('settings.autoFocus', {\n                                val: 'Error or not supported',\n                                ack: true,\n                            });\n                            break;\n                        default:\n                            this.log.error('not defined');\n                    }\n                }\n            }\n        } catch (error) {\n            this.log.error(`send cmd: ${error}`);\n            this.log.error(`sendCmd ${cmdName}connection error`);\n        }\n    }\n\n    async ptzCtrl(ptzPreset: number): Promise<void> {\n        const ptzPresetCmd: ReolinkCommandPtzControl[] = [\n            {\n                cmd: 'PtzCtrl',\n                action: 0,\n                param: {\n                    channel: Number(this.config.cameraChannel),\n                    id: ptzPreset,\n                    op: 'ToPos',\n                    speed: 32,\n                },\n            },\n        ];\n        await this.sendCmd(ptzPresetCmd, 'PtzCtrl');\n    }\n\n    async ptzCtrl2(ptzPatrolPos: number): Promise<void> {\n        if (ptzPatrolPos === 0) {\n            const ptzPresetCmd: ReolinkCommandPtzControl[] = [\n                {\n                    cmd: 'PtzCtrl',\n                    param: {\n                        channel: Number(this.config.cameraChannel),\n                        op: 'StopPatrol',\n                    },\n                },\n            ];\n            await this.sendCmd(ptzPresetCmd, 'PtzCtrl');\n        } else {\n            const ptzPresetCmd: ReolinkCommandPtzControl[] = [\n                {\n                    cmd: 'PtzCtrl',\n                    param: {\n                        channel: Number(this.config.cameraChannel),\n                        op: 'StartPatrol',\n                        id: ptzPatrolPos,\n                    },\n                },\n            ];\n            await this.sendCmd(ptzPresetCmd, 'PtzCtrl');\n        }\n    }\n\n    async setPush(state: boolean): Promise<void> {\n        const pushOnCmd: ReolinkCommandSetPush[] = [\n            {\n                cmd: 'SetPushV20',\n                param: {\n                    Push: {\n                        enable: state ? 1 : 0,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(pushOnCmd, 'SetPush');\n    }\n\n    async setFtp(ftpOn: boolean): Promise<void> {\n        const ftpOnCmd: ReolinkCommandSetFtp[] = [\n            {\n                cmd: 'SetFtpV20',\n                param: {\n                    Ftp: {\n                        enable: ftpOn ? 1 : 0,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(ftpOnCmd, 'SetFtp');\n    }\n\n    async setAutoFocus(autoFocusStr: number | string): Promise<void> {\n        if (autoFocusStr === 'Error or not supported') {\n            return;\n        }\n        const autoFocusVal = parseInt(autoFocusStr as string, 10);\n        if (autoFocusVal === 0 || autoFocusVal === 1) {\n            const autoFocusCmd: ReolinkCommandSetAutoFocus[] = [\n                {\n                    cmd: 'SetAutoFocus',\n                    action: 0,\n                    param: {\n                        AutoFocus: {\n                            channel: Number(this.config.cameraChannel),\n                            disable: autoFocusVal,\n                        },\n                    },\n                },\n            ];\n            await this.sendCmd(autoFocusCmd, 'SetAutoFocus');\n        } else {\n            this.log.error('Auto focus: Value not supported!');\n            await this.getAutoFocus();\n        }\n    }\n\n    async getAutoFocus(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                const getAutoFocusCmd = [\n                    {\n                        cmd: 'GetAutoFocus',\n                        action: 0,\n                        param: {\n                            channel: Number(this.config.cameraChannel),\n                        },\n                    },\n                ];\n                // cmd, user, password\n                const autoFocusValue = await this.reolinkApiClient.post(\n                    this.genUrl('GetAutoFocus', false, false),\n                    getAutoFocusCmd,\n                );\n\n                this.log.debug(\n                    `AutoFocusValue ${JSON.stringify(autoFocusValue.status)}: ${JSON.stringify(autoFocusValue.data)}`,\n                );\n\n                if (autoFocusValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n                    const autoFocus = autoFocusValue.data[0];\n\n                    if ('error' in autoFocus) {\n                        this.log.debug(`Error or not supported ${this.getAutoFocus.name}`);\n                        await this.setStateAsync('settings.autoFocus', {\n                            val: 'Error or not supported',\n                            ack: true,\n                        });\n                    } else {\n                        // The datatype of the object is string.\n                        // 1 - means forbid (but is there any effect?)\n                        // 0 - means not disabled\n                        const intState = autoFocus.value.AutoFocus.disable;\n                        if (intState === 0) {\n                            await this.setStateAsync('settings.autoFocus', {\n                                val: '0',\n                                ack: true,\n                            });\n                        } else if (intState === 1) {\n                            await this.setStateAsync('settings.autoFocus', {\n                                val: '1',\n                                ack: true,\n                            });\n                        } else {\n                            await this.setStateAsync('settings.autoFocus', {\n                                val: 'Unknown',\n                                ack: true,\n                            });\n                        }\n                    }\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`get auto focus: ${error}`);\n            }\n        }\n    }\n\n    async getZoomAndFocus(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                const getZoomFocusCmd = [\n                    {\n                        cmd: 'GetZoomFocus',\n                        action: 0,\n                        param: {\n                            channel: Number(this.config.cameraChannel),\n                        },\n                    },\n                ];\n                // cmd, user, password\n                const ZoomFocusValue = await this.reolinkApiClient.post(\n                    this.genUrl('GetZoomFocus', false, false),\n                    getZoomFocusCmd,\n                );\n\n                this.log.debug(\n                    `ZoomFocusValue ${JSON.stringify(ZoomFocusValue.status)}: ${JSON.stringify(ZoomFocusValue.data)}`,\n                );\n\n                if (ZoomFocusValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n                    const ZoomFocus = ZoomFocusValue.data[0];\n\n                    if ('error' in ZoomFocus) {\n                        this.log.debug(`Error or not supported ${this.getZoomAndFocus.name}`);\n\n                        return;\n                    }\n\n                    // zoom is the zoom position. See setZoomFocus()\n                    const zoom = ZoomFocus.value.ZoomFocus.zoom.pos;\n                    // the lens focus is adjusted during autofocus procedure.\n                    const focus = ZoomFocus.value.ZoomFocus.focus.pos;\n\n                    await this.setStateAsync('settings.setZoomFocus', {\n                        val: zoom,\n                        ack: true,\n                    });\n                    await this.setStateAsync('settings.focus', { val: focus, ack: true });\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`get zoom and focus: ${error}`);\n            }\n        }\n    }\n\n    async startZoomFocus(pos: number): Promise<void> {\n        const startZoomCmd: ReolinkCommandStartZoomFocus[] = [\n            {\n                cmd: 'StartZoomFocus',\n                action: 0,\n                param: {\n                    ZoomFocus: {\n                        channel: Number(this.config.cameraChannel),\n                        pos,\n                        op: 'ZoomPos',\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(startZoomCmd, 'StartZoomFocus');\n    }\n\n    async setPtzCheck(): Promise<void> {\n        const ptzCheckCmd: ReolinkCommandPtzCheck[] = [\n            {\n                cmd: 'PtzCheck',\n                action: 0,\n                param: {\n                    channel: Number(this.config.cameraChannel),\n                },\n            },\n        ];\n        await this.sendCmd(ptzCheckCmd, 'PtzCheck');\n    }\n\n    async setScheduledRecording(state: boolean): Promise<void> {\n        if (state !== true && state !== false) {\n            this.log.error('Set scheduled recording: Value not supported!');\n            await this.getRecording();\n\n            return;\n        }\n\n        const scheduledRecordingCmd: ReolinkCommandSetRec[] = [\n            {\n                cmd: 'SetRecV20',\n                param: {\n                    Rec: {\n                        enable: state ? 1 : 0, // The description in API Guide v8 had this key inside `schedule`, which does not work.\n                        schedule: {\n                            channel: Number(this.config.cameraChannel),\n                        },\n                    },\n                },\n            },\n        ];\n\n        await this.sendCmd(scheduledRecordingCmd, 'SetRecV20');\n    }\n\n    async getRecording(): Promise<void> {\n        if (!this.reolinkApiClient) {\n            return;\n        }\n\n        try {\n            const recordingCmd: ReolinkCommandGetRec[] = [\n                {\n                    cmd: 'GetRecV20',\n                    action: 1,\n                    param: {\n                        channel: Number(this.config.cameraChannel),\n                    },\n                },\n            ];\n            // cmd, user, password\n            const recordingSettingsResponse = await this.reolinkApiClient.post(\n                this.genUrl('GetRecV20', false, false),\n                recordingCmd,\n            );\n\n            this.log.debug(\n                `recordingSettings ${JSON.stringify(recordingSettingsResponse.status)}: ${JSON.stringify(recordingSettingsResponse.data)}`,\n            );\n            if (recordingSettingsResponse.status !== 200) {\n                return;\n            }\n\n            this.apiConnected = true;\n            await this.setStateAsync('network.connected', {\n                val: this.apiConnected,\n                ack: true,\n            });\n\n            const recordingSettingValues = recordingSettingsResponse.data[0];\n            this.log.debug(`rec set val: ${JSON.stringify(recordingSettingValues)}`);\n            // This response object contains much more than `enable`.\n            // There would be as well `overwrite`, `postRec`, `preRec`, `saveDay` and the 4 schedule tables as \"1010..\"-string\n            if (recordingSettingValues.error != null) {\n                this.log.debug(`get record settings error ${recordingSettingValues.error.detail}`);\n            } else {\n                const scheduledRecordingState = recordingSettingValues.value.Rec.enable;\n                if (scheduledRecordingState === 0) {\n                    await this.setStateAsync('settings.scheduledRecording', {\n                        val: false,\n                        ack: true,\n                    });\n                } else if (scheduledRecordingState === 1) {\n                    await this.setStateAsync('settings.scheduledRecording', {\n                        val: true,\n                        ack: true,\n                    });\n                } else {\n                    this.log.error(`An unknown scheduled recording state was detected: ${scheduledRecordingState}`);\n                }\n            }\n        } catch (error) {\n            this.apiConnected = false;\n            await this.setStateAsync('network.connected', {\n                val: this.apiConnected,\n                ack: true,\n            });\n            const errorMessage = error.message.toString();\n            if (errorMessage.includes('timeout of')) {\n                this.log.debug(`get recording: ${error}`);\n            } else {\n                this.log.error(`get recording: ${error}`);\n            }\n        }\n    }\n\n    async audioAlarmPlay(count: number): Promise<void> {\n        const audioAlarmPlayCmd: ReolinkCommandAudioAlarmPlay[] = [\n            {\n                cmd: 'AudioAlarmPlay',\n                action: 0,\n                param: {\n                    alarm_mode: 'times',\n                    manual_switch: 0,\n                    times: count,\n                    channel: Number(this.config.cameraChannel),\n                },\n            },\n        ];\n        await this.sendCmd(audioAlarmPlayCmd, 'AudioAlarmPlay');\n    }\n\n    async setIrLights(irValue: 'Error or not supported' | 'Auto' | 'Off' | 'On'): Promise<void> {\n        if (irValue === 'Error or not supported') {\n            return;\n        }\n        if (irValue === 'Auto' || irValue === 'Off' || irValue === 'On') {\n            const irCmd: ReolinkCommandSetIrLights[] = [\n                {\n                    cmd: 'SetIrLights',\n                    action: 0,\n                    param: {\n                        IrLights: {\n                            channel: Number(this.config.cameraChannel),\n                            state: irValue,\n                        },\n                    },\n                },\n            ];\n            this.log.debug(JSON.stringify(irCmd));\n            await this.sendCmd(irCmd, 'SetIrLights');\n        } else {\n            this.log.error('Set ir lights: Value not supported!');\n            await this.getIrLights();\n        }\n    }\n\n    async getIrLights(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, channel, user, password\n                const IrLightValue = await this.reolinkApiClient.get(this.genUrl('GetIrLights', false, true));\n                this.log.debug(\n                    `IrLightValue ${JSON.stringify(IrLightValue.status)}: ${JSON.stringify(IrLightValue.data)}`,\n                );\n\n                if (IrLightValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n\n                    const IrLights = IrLightValue.data[0];\n\n                    // Check answer\n                    if ('error' in IrLights) {\n                        this.log.debug(`Error or not supported ${this.getIrLights.name}`);\n                        await this.setStateAsync('settings.autoFocus', {\n                            val: 'Error or not supported',\n                            ack: true,\n                        });\n                    } else {\n                        await this.setStateAsync('settings.ir', {\n                            val: IrLights.value.IrLights.state,\n                            ack: true,\n                        });\n                    }\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`get ir lights: ${error}`);\n            }\n        }\n    }\n\n    async switchWhiteLed(ledState: boolean): Promise<void> {\n        const switchWhiteLedCmd: ReolinkCommandSetWhiteLed[] = [\n            {\n                cmd: 'SetWhiteLed',\n                param: {\n                    WhiteLed: {\n                        channel: Number(this.config.cameraChannel),\n                        state: ledState ? 1 : 0,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(switchWhiteLedCmd, 'SetWhiteLed');\n    }\n\n    async setWhiteLed(bright: number): Promise<void> {\n        const setBrightnessCmd: ReolinkCommandSetWhiteLed[] = [\n            {\n                cmd: 'SetWhiteLed',\n                param: {\n                    WhiteLed: {\n                        channel: Number(this.config.cameraChannel),\n                        bright,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(setBrightnessCmd, 'SetWhiteLed');\n    }\n\n    async setWhiteLedMode(mode: 0 | 1 | 2 | 3): Promise<void> {\n        // mode 0 = off        -> Manual switching. See https://github.com/aendue/ioBroker.reolink/issues/25 @johndoetheanimal for possible restrictions\n        // mode 1 = night mode -> Night Smart Mode\n        // mode 2 = unknown    -> Maybe `Always on at night` if supported.\n        // mode 3 = Timer mode -> Optional: [ { \"cmd\":\"SetWhiteLed\", \"action\":0, \"param\":{ \"WhiteLed\":{ \"LightingSchedule\":{ \"EndHour\":23, \"EndMin\":50, \"StartHour\":23, \"StartMin\":29 }, \"mode\":3, \"channel\":0 } } } ]\n        if (mode !== 0 && mode !== 1 && mode !== 2 && mode !== 3) {\n            this.log.error(`White Led mode ${mode as number} not supported!`);\n            return;\n        }\n        const setModeCmd: ReolinkCommandSetWhiteLed[] = [\n            {\n                cmd: 'SetWhiteLed',\n                param: {\n                    WhiteLed: {\n                        channel: Number(this.config.cameraChannel),\n                        mode,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(setModeCmd, 'SetWhiteLed');\n    }\n\n    async getWhiteLed(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                const getLedCmd: ReolinkCommandGetWhiteLed[] = [\n                    {\n                        cmd: 'GetWhiteLed',\n                        action: 0,\n                        param: {\n                            channel: Number(this.config.cameraChannel),\n                        },\n                    },\n                ];\n                // cmd, channel, user, password\n                const whiteLedValue = await this.reolinkApiClient.post(\n                    this.genUrl('GetWhiteLed', false, true),\n                    getLedCmd,\n                );\n\n                this.log.debug(\n                    `whiteLedValue ${JSON.stringify(whiteLedValue.status)}: ${JSON.stringify(whiteLedValue.data)}`,\n                );\n\n                if (whiteLedValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n\n                    const whiteLed = whiteLedValue.data[0];\n                    const brightness = whiteLed.value.WhiteLed.bright;\n                    const mode = whiteLed.value.WhiteLed.mode;\n                    const switchLed = !!whiteLed.value.WhiteLed.state;\n\n                    await this.setStateAsync('settings.ledBrightness', {\n                        val: brightness,\n                        ack: true,\n                    });\n                    await this.setStateAsync('settings.ledMode', { val: mode, ack: true });\n                    await this.setStateAsync('settings.switchLed', {\n                        val: switchLed,\n                        ack: true,\n                    });\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`get white led: ${error}`);\n            }\n        }\n    }\n\n    async setPtzGuard(enable: boolean): Promise<void> {\n        const setPtzGuardCmd: ReolinkCommandSetPtzGuard[] = [\n            {\n                cmd: 'SetPtzGuard',\n                action: 0,\n                param: {\n                    PtzGuard: {\n                        channel: Number(this.config.cameraChannel),\n                        cmdStr: 'setPos',\n                        benable: enable ? 1 : 0,\n                        bSaveCurrentPos: 0,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(setPtzGuardCmd, 'setPtzGuard');\n        await this.getPtzGuardInfo();\n    }\n\n    async setPtzGuardTimeout(timeout: number): Promise<void> {\n        const setPtzGuardCmd: ReolinkCommandSetPtzGuard[] = [\n            {\n                cmd: 'SetPtzGuard',\n                action: 0,\n                param: {\n                    PtzGuard: {\n                        channel: Number(this.config.cameraChannel),\n                        cmdStr: 'setPos',\n                        timeout,\n                        bSaveCurrentPos: 0,\n                    },\n                },\n            },\n        ];\n        await this.sendCmd(setPtzGuardCmd, 'SetPtzGuardTimeout');\n        await this.getPtzGuardInfo();\n    }\n\n    async refreshState(source: string): Promise<void> {\n        this.log.debug(`refreshState': started from \"${source}\"`);\n\n        await this.getMdState();\n        await this.getAiState();\n        await this.getAiCfg();\n        this.refreshIntervalRecordingTimer++;\n        if (this.refreshIntervalRecordingTimer > this.refreshIntervalRecording) {\n            await this.getRecording();\n            await this.getDriveInfo();\n            this.refreshIntervalRecordingTimer = 0;\n        }\n\n        // Delete Timer\n        if (this.refreshStateTimeout) {\n            this.log.debug(`refreshStateTimeout: CLEARED by ${source}`);\n            this.clearTimeout(this.refreshStateTimeout);\n        }\n\n        // Create new Timer (to re-run actions)\n        if (!this.apiConnected) {\n            const notConnectedTimeout = 10;\n            this.refreshStateTimeout = this.setTimeout(async () => {\n                this.refreshStateTimeout = null;\n                await this.refreshState('timeout (API not connected)');\n            }, notConnectedTimeout * 1000);\n            // this.log.debug(`refreshStateTimeout: re-created refresh timeout (API not connected): id ${this.refreshStateTimeout}- secounds: ${notConnectedTimeout}`);\n        } else {\n            let refreshInterval = parseInt(this.config.apiRefreshInterval as string);\n            if (refreshInterval > 10000) {\n                refreshInterval = 10000;\n            }\n            if (refreshInterval < 1) {\n                refreshInterval = 1;\n            }\n            this.refreshStateTimeout = this.setTimeout(async () => {\n                this.refreshStateTimeout = null;\n                await this.refreshState('timeout(default');\n            }, refreshInterval * 1000);\n            // this.log.debug(`refreshStateTimeout: re-created refresh timeout (default): id ${this.refreshStateTimeout}- seconds: ${this.config.apiRefreshInterval}`);\n        }\n    }\n\n    async getMailNotification(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, user, password\n                const mailValue = await this.reolinkApiClient.get(this.genUrl('GetEmailV20', false, false));\n                this.log.debug(`mailValue ${JSON.stringify(mailValue.status)}: ${JSON.stringify(mailValue.data)}`);\n\n                if (mailValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n\n                    const mail = mailValue.data[0];\n\n                    //Antwort pruefen\n                    if ('error' in mail) {\n                        this.log.debug(`Error or not supported ${this.getMailNotification.name}`);\n                        await this.setStateAsync('settings.EmailNotification', {\n                            val: 'Error or not supported',\n                            ack: true,\n                        });\n                    } else {\n                        await this.setStateAsync('RAW.Email', {\n                            val: JSON.stringify(mail),\n                            ack: true,\n                        });\n                        await this.setStateAsync('settings.EmailNotification', {\n                            val: mail.value.Email.enable,\n                            ack: true,\n                        });\n                    }\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`get mail notification: ${error}`);\n            }\n        }\n    }\n\n    async setMailNotification(state: 0 | 1 | 2): Promise<void> {\n        if (state === 0 || state === 1) {\n            const mail = await this.getStateAsync('RAW.Email');\n            if (mail) {\n                const val = JSON.parse(mail.val as string).value.Email;\n\n                const mailCmd: ReolinkCommandSetEmailV20[] = [\n                    {\n                        cmd: 'SetEmailV20',\n                        param: {\n                            Email: {\n                                ssl: val.ssl,\n                                enable: state ? 1 : 0,\n                                smtpPort: val.smtpPort,\n                                smtpServer: val.smtpServer,\n                                userName: val.userName,\n                                nickName: val.nickName,\n                                addr1: val.addr1,\n                                addr2: val.addr2,\n                                addr3: val.addr3,\n                                interval: val.interval,\n                            },\n                        },\n                    },\n                ];\n                // this.log.debug(JSON.stringify(mailCmd));\n                await this.sendCmd(mailCmd, 'SetEmailV20');\n            } else {\n                this.log.error('Set mail notification: Cannot find RAW.Email!');\n            }\n        } else {\n            this.log.error('Set mail notification: Value not supported!');\n            await this.getMailNotification();\n        }\n    }\n\n    async rebootCam(): Promise<void> {\n        if (this.reolinkApiClient) {\n            try {\n                // cmd, user, password\n                const mailValue = await this.reolinkApiClient.get(this.genUrl('Reboot', false, false));\n                this.log.debug(`mailValue ${JSON.stringify(mailValue.status)}: ${JSON.stringify(mailValue.data)}`);\n\n                if (mailValue.status === 200) {\n                    this.apiConnected = true;\n                    await this.setStateAsync('network.connected', {\n                        val: this.apiConnected,\n                        ack: true,\n                    });\n                    this.log.info(`${this.config.cameraIp} reboot triggered!`);\n                }\n            } catch (error) {\n                this.apiConnected = false;\n                await this.setStateAsync('network.connected', {\n                    val: this.apiConnected,\n                    ack: true,\n                });\n                this.log.error(`reboot cam: ${error}`);\n            }\n        }\n    }\n\n    /**\n     * Is called when adapter shuts down - callback has to be called under any circumstances!\n     *\n     * @param callback last execution\n     */\n    onUnload(callback: () => void): void {\n        try {\n            // Here you must clear all timeouts or intervals that may still be active\n            // clearTimeout(timeout1);\n            // clearTimeout(timeout2);\n            // ...\n            // clearInterval(interval1);\n            if (this.refreshStateTimeout) {\n                this.log.debug('refreshStateTimeout: UNLOAD');\n                this.clearTimeout(this.refreshStateTimeout);\n            }\n        } catch (error) {\n            this.log.error(`onUnload: ${error}`);\n        }\n        callback();\n    }\n\n    /**\n     * Is called if a subscribed state changes\n     *\n     * @param id contain the changed property\n     * @param state contain the new state\n     */\n    async onStateChange(id: string, state: ioBroker.State | null | undefined): Promise<void> {\n        if (state) {\n            if (!state.ack) {\n                // The state was changed\n                this.log.debug(`state ${id} changed: ${state.val} (ack = ${state.ack})`);\n                const idValues = id.split('.');\n                const propName = idValues[idValues.length - 1];\n                this.log.info(`Changed state: ${propName}`);\n\n                if (id.endsWith('ai_config.raw')) {\n                    await this.setAiCfg(state.val as string);\n                    return;\n                }\n\n                if (propName == 'ir') {\n                    await this.setIrLights(state.val as 'Error or not supported' | 'Auto' | 'Off' | 'On');\n                } else if (propName === 'ptzPreset') {\n                    await this.ptzCtrl(state.val as number);\n                } else if (propName === 'ptzPatrol') {\n                    await this.ptzCtrl2(state.val as number);\n                } else if (propName === 'autoFocus') {\n                    await this.setAutoFocus(state.val as number | string);\n                } else if (propName === 'setZoomFocus') {\n                    await this.startZoomFocus(parseInt(state.val as string, 10));\n                } else if (propName === 'push') {\n                    await this.setPush(!!state.val);\n                } else if (propName === 'ftp') {\n                    await this.setFtp(\n                        state.val === true || state.val === 'true' || state.val === 1 || state.val === '1',\n                    );\n                } else if (propName === 'scheduledRecording') {\n                    await this.setScheduledRecording(\n                        state.val === true || state.val === 'true' || state.val === 1 || state.val === '1',\n                    );\n                } else if (propName === 'playAlarm') {\n                    await this.audioAlarmPlay(parseInt(state.val as string, 10));\n                } else if (propName === 'switchLed') {\n                    await this.switchWhiteLed(\n                        state.val === true || state.val === 'true' || state.val === 1 || state.val === '1',\n                    );\n                } else if (propName === 'ledBrightness') {\n                    await this.setWhiteLed(parseInt(state.val as string, 10));\n                } else if (propName === 'ledMode') {\n                    await this.setWhiteLedMode(parseInt(state.val as string, 10) as 0 | 1 | 2 | 3);\n                } else if (propName === 'getDiscData') {\n                    await this.getDriveInfo();\n                } else if (propName === 'ptzEnableGuard') {\n                    await this.setPtzGuard(\n                        state.val === true || state.val === 'true' || state.val === 1 || state.val === '1',\n                    );\n                } else if (propName === 'ptzCheck') {\n                    await this.setPtzCheck();\n                } else if (propName === 'ptzGuardTimeout') {\n                    await this.setPtzGuardTimeout(parseInt(state.val as string, 10));\n                } else if (propName === 'EmailNotification') {\n                    await this.setMailNotification(parseInt(state.val as string, 10) as 0 | 1);\n                }\n                if (propName === 'reboot') {\n                    await this.rebootCam();\n                }\n            }\n        } else {\n            // The state was deleted\n            this.log.debug(`state ${id} deleted`);\n        }\n    }\n\n    async onMessage(obj: ioBroker.Message): Promise<void> {\n        if (typeof obj === 'object') {\n            // this.log.debug(JSON.stringify(obj));\n            // {\"command\":\"send\",\"message\":{\"action\":\"snap\"},\"from\":\"system.adapter.javascript.0\",\"callback\":{\"message\":{\"action\":\"snap\"},\"id\":13,\"ack\":false,\"time\":1660317360713},\"_id\":42782776}\n            if (obj.message.action === 'snap') {\n                const image = await this.getSnapshot();\n                if (obj.callback) {\n                    if (image) {\n                        this.log.info('send back the image!');\n                        this.sendTo(obj.from, obj.command, image, obj.callback);\n                    }\n                }\n            }\n        }\n    }\n}\n\nif (require.main !== module) {\n    // Export the constructor in compact mode\n    module.exports = (options: Partial<AdapterOptions> | undefined) => new ReoLinkCamAdapter(options);\n} else {\n    // otherwise start the instance directly\n    (() => new ReoLinkCamAdapter())();\n}\n"]}